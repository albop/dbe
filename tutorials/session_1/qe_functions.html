<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Functions – Data-Based Economics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-4dd8a3e03acdc06c2067aaf79de79a48.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      Data-Based Economics
      </li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Data-Based Economics</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">lectures</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../slides/session_1/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../slides/session_2/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dataframes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../slides/session_3/index_handout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../slides/session_4/index_handout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multiple Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../slides/session_5/index_handout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Instrumental Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../slides/session_6/index_handout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Machine Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../slides/session_7/index_handout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Machine Learning (2)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../slides/session_8/index_handout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../slides/session_10/index_handout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final Exam 🤞</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#application-production-functions" id="toc-application-production-functions" class="nav-link active" data-scroll-target="#application-production-functions">Application: Production Functions</a>
  <ul class="collapse">
  <li><a href="#factors-of-production" id="toc-factors-of-production" class="nav-link" data-scroll-target="#factors-of-production">Factors of Production</a></li>
  <li><a href="#an-example-production-function" id="toc-an-example-production-function" class="nav-link" data-scroll-target="#an-example-production-function">An Example Production Function</a></li>
  </ul></li>
  <li><a href="#what-are-python-functions" id="toc-what-are-python-functions" class="nav-link" data-scroll-target="#what-are-python-functions">What are (Python) Functions?</a></li>
  <li><a href="#how-to-define-python-functions" id="toc-how-to-define-python-functions" class="nav-link" data-scroll-target="#how-to-define-python-functions">How to Define (Python) Functions?</a>
  <ul class="collapse">
  <li><a href="#scope" id="toc-scope" class="nav-link" data-scroll-target="#scope">Scope</a></li>
  <li><a href="#re-using-functions" id="toc-re-using-functions" class="nav-link" data-scroll-target="#re-using-functions">Re-using Functions</a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a></li>
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1">Exercise</a></li>
  <li><a href="#multiple-returns" id="toc-multiple-returns" class="nav-link" data-scroll-target="#multiple-returns">Multiple Returns</a></li>
  <li><a href="#documentation" id="toc-documentation" class="nav-link" data-scroll-target="#documentation">Documentation</a></li>
  <li><a href="#exercise-2" id="toc-exercise-2" class="nav-link" data-scroll-target="#exercise-2">Exercise</a></li>
  <li><a href="#default-and-keyword-arguments" id="toc-default-and-keyword-arguments" class="nav-link" data-scroll-target="#default-and-keyword-arguments">Default and Keyword Arguments</a></li>
  <li><a href="#exercise-3" id="toc-exercise-3" class="nav-link" data-scroll-target="#exercise-3">Exercise</a></li>
  <li><a href="#aside-methods" id="toc-aside-methods" class="nav-link" data-scroll-target="#aside-methods">Aside: Methods</a></li>
  </ul></li>
  <li><a href="#more-on-scope-optional" id="toc-more-on-scope-optional" class="nav-link" data-scroll-target="#more-on-scope-optional">More on Scope (Optional)</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a>
  <ul class="collapse">
  <li><a href="#exercise-1-1" id="toc-exercise-1-1" class="nav-link" data-scroll-target="#exercise-1-1">Exercise 1</a></li>
  <li><a href="#exercise-2-1" id="toc-exercise-2-1" class="nav-link" data-scroll-target="#exercise-2-1">Exercise 2</a></li>
  <li><a href="#exercise-3-1" id="toc-exercise-3-1" class="nav-link" data-scroll-target="#exercise-3-1">Exercise 3</a></li>
  <li><a href="#exercise-4" id="toc-exercise-4" class="nav-link" data-scroll-target="#exercise-4">Exercise 4</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Functions</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>Prerequisites</strong></p>
<ul>
<li><a href="./basics.ipynb">Basics</a><br>
</li>
<li><a href="./collections.ipynb">Collections</a><br>
</li>
<li><a href="./functions.ipynb">Control Flow</a></li>
</ul>
<p><strong>Outcomes</strong></p>
<ul>
<li>Economic Production Functions
<ul>
<li>Understand the basics of production functions in economics<br>
</li>
</ul></li>
<li>Functions
<ul>
<li>Know how to define your own function<br>
</li>
<li>Know how to find and write your own function documentation<br>
</li>
<li>Know why we use functions<br>
</li>
<li>Understand scoping rules and blocks</li>
</ul></li>
</ul>
<p><a id="production-functions"></a></p>
<section id="application-production-functions" class="level2">
<h2 class="anchored" data-anchor-id="application-production-functions">Application: Production Functions</h2>
<p>Production functions are useful when modeling the economics of firms producing goods or the aggregate output in an economy.</p>
<p>Though the term “function” is used in a mathematical sense here, we will be making tight connections between the programming of mathematical functions and Python functions.</p>
<section id="factors-of-production" class="level3">
<h3 class="anchored" data-anchor-id="factors-of-production">Factors of Production</h3>
<p>The <a href="https://en.wikipedia.org/wiki/Factors_of_production">factors of production</a> are the inputs used in the production of some sort of output.</p>
<p>Some example factors of production include</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Physical_capital">Physical capital</a>, e.g. machines, buildings, computers, and power stations.<br>
</li>
<li>Labor, e.g.&nbsp;all of the hours of work from different types of employees of a firm.<br>
</li>
<li><a href="https://en.wikipedia.org/wiki/Human_capital">Human Capital</a>, e.g.&nbsp;the knowledge of employees within a firm.</li>
</ul>
<p>A <a href="https://en.wikipedia.org/wiki/Production_function">production function</a> maps a set of inputs to the output, e.g.&nbsp;the amount of wheat produced by a farm, or widgets produced in a factory.</p>
<p>As an example of the notation, we denote the total units of labor and physical capital used in a factory as $ L $ and $ K $ respectively.</p>
<p>If we denote the physical output of the factory as $ Y $, then a production function $ F $ that transforms labor and capital into output might have the form:</p>
<p><span class="math display">\[
Y = F(K, L)
\]</span></p>
<p><a id="cobb-douglas-example"></a></p>
</section>
<section id="an-example-production-function" class="level3">
<h3 class="anchored" data-anchor-id="an-example-production-function">An Example Production Function</h3>
<p>Throughout this lecture, we will use the <a href="https://en.wikipedia.org/wiki/Cobb%E2%80%93Douglas_production_function">Cobb-Douglas</a> production function to help us understand how to create Python functions and why they are useful.</p>
<p>The Cobb-Douglas production function has appealing statistical properties when brought to data.</p>
<p>This function is displayed below.</p>
<p><span class="math display">\[
Y = z K^{\alpha} L^{1-\alpha}
\]</span></p>
<p>The function is parameterized by:</p>
<ul>
<li>A parameter $ $, called the “output elasticity of capital”.<br>
</li>
<li>A value $ z $ called the <a href="https://en.wikipedia.org/wiki/Total_factor_productivity">Total Factor Productivity</a> (TFP).</li>
</ul>
</section>
</section>
<section id="what-are-python-functions" class="level2">
<h2 class="anchored" data-anchor-id="what-are-python-functions">What are (Python) Functions?</h2>
<p>In this class, we will often talk about <code>function</code>s.</p>
<p>So what is a function?</p>
<p>We like to think of a function as a production line in a manufacturing plant: we pass zero or more things to it, operations take place in a set linear sequence, and zero or more things come out.</p>
<p>We use functions for the following purposes:</p>
<ul>
<li><strong>Re-usability</strong>: Writing code to do a specific task just once, and reuse the code by calling the function.<br>
</li>
<li><strong>Organization</strong>: Keep the code for distinct operations separated and organized.<br>
</li>
<li><strong>Sharing/collaboration</strong>: Sharing code across multiple projects or sharing pieces of code with collaborators.</li>
</ul>
</section>
<section id="how-to-define-python-functions" class="level2">
<h2 class="anchored" data-anchor-id="how-to-define-python-functions">How to Define (Python) Functions?</h2>
<p>The basic syntax to create our own function is as follows:</p>
<div id="90901fe1" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function_name(inputs):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># step 1</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># step 2</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ...</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> outputs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here we see two new <em>keywords</em>: <code>def</code> and <code>return</code>.</p>
<ul>
<li><code>def</code> is used to tell Python we would like to define a new function.<br>
</li>
<li><code>return</code> is used to tell Python what we would like to <strong>return</strong> from a function.</li>
</ul>
<p>Let’s look at an example and then discuss each part:</p>
<div id="6c38a606" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mean(numbers):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> <span class="bu">sum</span>(numbers)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    N <span class="op">=</span> <span class="bu">len</span>(numbers)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    answer <span class="op">=</span> total <span class="op">/</span> N</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> answer</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here we defined a function <code>mean</code> that has one input (<code>numbers</code>), does three steps, and has one output (<code>answer</code>).</p>
<p>Let’s see what happens when we call this function on the list of numbers <code>[1, 2, 3, 4]</code>.</p>
<div id="89e58757" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>the_mean <span class="op">=</span> mean(x)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>the_mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Additionally, as we saw in the <a href="https://datascience.quantecon.org/control_flow.html">control flow</a> lecture, indentation controls blocks of code (along with the <a href="#scope">scope</a> rules).</p>
<p>To see this, compare a function with no inputs or return values.</p>
<div id="8661eac1" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f():</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"1"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"2"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>f()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>With the following change of indentation…</p>
<div id="8d7d7b4b" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f():</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"1"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"2"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>f()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a id="scope"></a></p>
<section id="scope" class="level3">
<h3 class="anchored" data-anchor-id="scope">Scope</h3>
<p>Notice that we named the input to the function <code>x</code> and we called the output <code>the_mean</code>.</p>
<p>When we defined the function, the input was called <code>numbers</code> and the output <code>answer</code>… what gives?</p>
<p>This is an example of a programming concept called <a href="http://python-textbok.readthedocs.io/en/1.0/Variables_and_Scope.html">variable scope</a>.</p>
<p>In Python, functions define their own scope for variables.</p>
<p>In English, this means that regardless of what name we give an input variable (<code>x</code> in this example), the input will always be referred to as <code>numbers</code> <em>inside</em> the body of the <code>mean</code> function.</p>
<p>It also means that although we called the output <code>answer</code> inside of the function <code>mean</code>, that this variable name was only valid inside of our function.</p>
<p>To use the output of the function, we had to give it our own name (<code>the_mean</code> in this example).</p>
<p>Another point to make here is that the intermediate variables we defined inside <code>mean</code> (<code>total</code> and <code>N</code>) are only defined inside of the <code>mean</code> function – we can’t access them from outside. We can verify this by trying to see what the value of <code>total</code> is:</p>
<div id="7da578be" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mean(numbers):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> <span class="bu">sum</span>(numbers)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    N <span class="op">=</span> <span class="bu">len</span>(numbers)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    answer <span class="op">=</span> total <span class="op">/</span> N</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> answer <span class="co"># or directly return total / N</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># uncomment the line below and execute to see the error</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># total</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This point can be taken even further: the same name can be bound to variables inside of blocks of code and in the outer “scope”.</p>
<div id="b215330b" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f():</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">5</span> <span class="co"># a different "x"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>f() <span class="co"># calls function</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"x = </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The final point we want to make about scope is that function inputs and output don’t have to be given a name outside the function.</p>
<div id="78f3243b" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>mean([<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice that we didn’t name the input or the output, but the function was called successfully.</p>
<p>Now, we’ll use our new knowledge to define a function which computes the output from a Cobb-Douglas production function with parameters $ z = 1 $ and $ = 0.33 $ and takes inputs $ K $ and $ L $.</p>
<div id="74c0dac2" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cobb_douglas(K, L):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create alpha and z</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    alpha <span class="op">=</span> <span class="fl">0.33</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> z <span class="op">*</span> K<span class="op">**</span>alpha <span class="op">*</span> L<span class="op">**</span>(<span class="dv">1</span> <span class="op">-</span> alpha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can use this function as we did the mean function.</p>
<div id="fe33a5bf" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>cobb_douglas(<span class="fl">1.0</span>, <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a id="returns-to-scale"></a></p>
</section>
<section id="re-using-functions" class="level3">
<h3 class="anchored" data-anchor-id="re-using-functions">Re-using Functions</h3>
<p>Economists are often interested in this question: how much does output change if we modify our inputs?</p>
<p>For example, take a production function $ Y_1 = F(K_1,L_1) $ which produces $ Y_1 $ units of the goods.</p>
<p>If we then multiply the inputs each by $ <span class="math inline">\(, so that\)</span> K_2 = K_1 $ and $ L_2 = L_1 $, then the output is</p>
<p><span class="math display">\[
Y_2 = F(K_2, L_2) = F(\gamma K_1, \gamma L_1)
\]</span></p>
<p>How does $ Y_1 $ compare to $ Y_2 $?</p>
<p>Answering this question involves something called <em>returns to scale</em>.</p>
<p>Returns to scale tells us whether our inputs are more or less productive as we have more of them.</p>
<p>For example, imagine that you run a restaurant. How would you expect the amount of food you could produce would change if you could build an exact replica of your restaurant and kitchen and hire the same number of cooks and waiters? You would probably expect it to double.</p>
<p>If, for any $ K, L $, we multiply $ K, L $ by a value $ $ then</p>
<ul>
<li>If $ &lt; $ then we say the production function has decreasing returns to scale.<br>
</li>
<li>If $ = $ then we say the production function has constant returns to scale.<br>
</li>
<li>If $ &gt; $ then we say the production function has increasing returns to scale.</li>
</ul>
<p>Let’s try it and see what our function is!</p>
<div id="1b31c54c" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>y1 <span class="op">=</span> cobb_douglas(<span class="fl">1.0</span>, <span class="fl">0.5</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(y1)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>y2 <span class="op">=</span> cobb_douglas(<span class="dv">2</span><span class="op">*</span><span class="fl">1.0</span>, <span class="dv">2</span><span class="op">*</span><span class="fl">0.5</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(y2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>How did $ Y_1 $ and $ Y_2 $ relate?</p>
<div id="9b8a1a93" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>y2 <span class="op">/</span> y1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>$ Y_2 $ was exactly double $ Y_1 $!</p>
<p>Let’s write a function that will compute the returns to scale for different values of $ K $ and $ L $.</p>
<p>This is an example of how writing functions can allow us to re-use code in ways we might not originally anticipate. (You didn’t know we’d be writing a <code>returns_to_scale</code> function when we wrote <code>cobb_douglas</code>.)</p>
<div id="268874c0" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> returns_to_scale(K, L, gamma):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    y1 <span class="op">=</span> cobb_douglas(K, L)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    y2 <span class="op">=</span> cobb_douglas(gamma<span class="op">*</span>K, gamma<span class="op">*</span>L)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    y_ratio <span class="op">=</span> y2 <span class="op">/</span> y1</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y_ratio <span class="op">/</span> gamma</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c7b83d6c" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>returns_to_scale(<span class="fl">1.0</span>, <span class="fl">0.5</span>, <span class="fl">2.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercise" class="level3">
<h3 class="anchored" data-anchor-id="exercise">Exercise</h3>
<p>See exercise 1 in the <a href="#ex2-4">exercise list</a>.</p>
<p>It turns out that with a little bit of algebra, we can check that this will always hold for our <a href="#cobb-douglas-example">Cobb-Douglas example</a> above.</p>
<p>To show this, take an arbitrary $ K, L $ and multiply the inputs by an arbitrary $ $.</p>
<p><span class="math display">\[
\begin{aligned}
    F(\gamma K, \gamma L) &amp;= z (\gamma K)^{\alpha} (\gamma L)^{1-\alpha}\\
    &amp;=  z \gamma^{\alpha}\gamma^{1-\alpha} K^{\alpha} L^{1-\alpha}\\
    &amp;= \gamma z K^{\alpha} L^{1-\alpha} = \gamma F(K, L)
\end{aligned}
\]</span></p>
<p>For an example of a production function that is not CRS, look at a generalization of the Cobb-Douglas production function that has different “output elasticities” for the 2 inputs.</p>
<p><span class="math display">\[
Y = z K^{\alpha_1} L^{\alpha_2}
\]</span></p>
<p>Note that if $ _2 = 1 - _1 $, this is our Cobb-Douglas production function.</p>
</section>
<section id="exercise-1" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1">Exercise</h3>
<p>See exercise 2 in the <a href="#ex2-4">exercise list</a>.</p>
<p><a id="marginal-products"></a></p>
</section>
<section id="multiple-returns" class="level3">
<h3 class="anchored" data-anchor-id="multiple-returns">Multiple Returns</h3>
<p>Another valuable element to analyze on production functions is how output changes as we change only one of the inputs. We will call this the marginal product.</p>
<p>For example, compare the output using $ K, L $ units of inputs to that with an $ $ units of labor.</p>
<p>Then the marginal product of labor (MPL) is defined as</p>
<p><span class="math display">\[
\frac{F(K, L + \varepsilon) - F(K, L)}{\varepsilon}
\]</span></p>
<p>This tells us how much additional output is created relative to the additional input. (Spoiler alert: This should look like the definition for a partial derivative!)</p>
<p>If the input can be divided into small units, then we can use calculus to take this limit, using the partial derivative of the production function relative to that input.</p>
<p>In this case, we define the marginal product of labor (MPL) and marginal product of capital (MPK) as</p>
<p><span class="math display">\[
\begin{aligned}
MPL(K, L) &amp;= \frac{\partial F(K, L)}{\partial L}\\
MPK(K, L) &amp;= \frac{\partial F(K, L)}{\partial K}
\end{aligned}
\]</span></p>
<p>In the <a href="#cobb-douglas-example">Cobb-Douglas</a> example above, this becomes</p>
<p><span class="math display">\[
\begin{aligned}
MPK(K, L) &amp;= z  \alpha \left(\frac{K}{L} \right)^{\alpha - 1}\\
MPL(K, L) &amp;= (1-\alpha) z \left(\frac{K}{L} \right)^{\alpha}\\
\end{aligned}
\]</span></p>
<p>Let’s test it out with Python! We’ll also see that we can actually return multiple things in a Python function.</p>
<p>The syntax for a return statement with multiple items is return item1, item2, ….</p>
<p>In this case, we’ll compute both the MPL and the MPK and then return both.</p>
<div id="b017ae47" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> marginal_products(K, L, epsilon):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    mpl <span class="op">=</span> (cobb_douglas(K, L <span class="op">+</span> epsilon) <span class="op">-</span> cobb_douglas(K, L)) <span class="op">/</span> epsilon</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    mpk <span class="op">=</span> (cobb_douglas(K <span class="op">+</span> epsilon, L) <span class="op">-</span> cobb_douglas(K, L)) <span class="op">/</span> epsilon</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> mpl, mpk</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="d579d727" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>tup <span class="op">=</span> marginal_products(<span class="fl">1.0</span>, <span class="fl">0.5</span>,  <span class="fl">1e-4</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tup)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Instead of using the tuple, these can be directly unpacked to variables.</p>
<div id="75cfb18d" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mpl, mpk <span class="op">=</span> marginal_products(<span class="fl">1.0</span>, <span class="fl">0.5</span>,  <span class="fl">1e-4</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"mpl = </span><span class="sc">{</span>mpl<span class="sc">}</span><span class="ss">, mpk = </span><span class="sc">{</span>mpk<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can use this to calculate the marginal products for different <code>K</code>, fixing <code>L</code> using a comprehension.</p>
<div id="0dbb65dd" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Ks <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>[marginal_products(K, <span class="fl">0.5</span>, <span class="fl">1e-4</span>) <span class="cf">for</span> K <span class="kw">in</span> Ks] <span class="co"># create a tuple for each K</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="documentation" class="level3">
<h3 class="anchored" data-anchor-id="documentation">Documentation</h3>
<p>In a previous exercise, we asked you to find help for the <code>cobb_douglas</code> and <code>returns_to_scale</code> functions using <code>?</code>.</p>
<p>It didn’t provide any useful information.</p>
<p>To provide this type of help information, we need to add what Python programmers call a “docstring” to our functions.</p>
<p>This is done by putting a string (not assigned to any variable name) as the first line of the <em>body</em> of the function (after the line with <code>def</code>).</p>
<p>Below is a new version of the template we used to define functions.</p>
<div id="d1cf6879" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function_name(inputs):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Docstring</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># step 1</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># step 2</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ...</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> outputs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s re-define our <code>cobb_douglas</code> function to include a docstring.</p>
<div id="8eba5be6" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cobb_douglas(K, L):</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Computes the production F(K, L) for a Cobb-Douglas production function</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Takes the form F(K, L) = z K^{</span><span class="ch">\a</span><span class="co">lpha} L^{1 - </span><span class="ch">\a</span><span class="co">lpha}</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">    We restrict z = 1 and alpha = 0.33</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fl">1.0</span> <span class="op">*</span> K<span class="op">**</span>(<span class="fl">0.33</span>) <span class="op">*</span> L<span class="op">**</span>(<span class="fl">1.0</span> <span class="op">-</span> <span class="fl">0.33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now when we have Jupyter evaluate <code>cobb_douglas?</code>, our message is displayed (or use the Contextual Help window with Jupyterlab and <code>Ctrl-I</code> or <code>Cmd-I</code>).</p>
<div id="638f0b81" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>cobb_douglas?</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We recommend that you always include at least a very simple docstring for nontrivial functions.</p>
<p>This is in the same spirit as adding comments to your code — it makes it easier for future readers/users (including yourself) to understand what the code does.</p>
</section>
<section id="exercise-2" class="level3">
<h3 class="anchored" data-anchor-id="exercise-2">Exercise</h3>
<p>See exercise 3 in the <a href="#ex2-4">exercise list</a>.</p>
</section>
<section id="default-and-keyword-arguments" class="level3">
<h3 class="anchored" data-anchor-id="default-and-keyword-arguments">Default and Keyword Arguments</h3>
<p>Functions can have optional arguments.</p>
<p>To accomplish this, we must these arguments a <em>default value</em> by saying <code>name=default_value</code> instead of just <code>name</code> as we list the arguments.</p>
<p>To demonstrate this functionality, let’s now make $ z $ and $ $ arguments to our cobb_douglas function!</p>
<div id="30ef0fd2" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cobb_douglas(K, L, alpha<span class="op">=</span><span class="fl">0.33</span>, z<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Computes the production F(K, L) for a Cobb-Douglas production function</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Takes the form F(K, L) = z K^{</span><span class="ch">\a</span><span class="co">lpha} L^{1 - </span><span class="ch">\a</span><span class="co">lpha}</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> z <span class="op">*</span> K<span class="op">**</span>(alpha) <span class="op">*</span> L<span class="op">**</span>(<span class="fl">1.0</span> <span class="op">-</span> alpha)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can now call this function by passing in just K and L. Notice that it will produce same result as earlier because <code>alpha</code> and <code>z</code> are the same as earlier.</p>
<div id="510b151b" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>cobb_douglas(<span class="fl">1.0</span>, <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>However, we can also set the other arguments of the function by passing more than just K/L.</p>
<div id="5299b950" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>cobb_douglas(<span class="fl">1.0</span>, <span class="fl">0.5</span>, <span class="fl">0.35</span>, <span class="fl">1.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the example above, we used <code>alpha = 0.35</code>, <code>z = 1.6</code>.</p>
<p>We can also refer to function arguments by their name, instead of only their position (order).</p>
<p>To do this, we would write <code>func_name(arg=value)</code> for as many of the arguments as we want.</p>
<p>Here’s how to do that with our <code>cobb_douglas</code> example.</p>
<div id="f66b740a" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>cobb_douglas(<span class="fl">1.0</span>, <span class="fl">0.5</span>, z <span class="op">=</span> <span class="fl">1.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercise-3" class="level3">
<h3 class="anchored" data-anchor-id="exercise-3">Exercise</h3>
<p>See exercise 4 in the <a href="#ex2-4">exercise list</a>.</p>
<p>In terms of variable scope, the <code>z</code> name within the function is different from any other <code>z</code> in the outer scope.</p>
<p>To be clear,</p>
<div id="25f08a9e" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>f(x) <span class="co"># "coincidence" that it has the same name</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is also true with named function arguments, above.</p>
<div id="54193b43" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> <span class="fl">1.5</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>cobb_douglas(<span class="fl">1.0</span>, <span class="fl">0.5</span>, z <span class="op">=</span> z) <span class="co"># no problem!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In that example, the <code>z</code> on the left hand side of <code>z = z</code> refers to the local variable name in the function whereas the <code>z</code> on the right hand side refers to the <code>z</code> in the outer scope.</p>
</section>
<section id="aside-methods" class="level3">
<h3 class="anchored" data-anchor-id="aside-methods">Aside: Methods</h3>
<p>As we learned earlier, all variables in Python have a type associated with them.</p>
<p>Different types of variables have different functions or operations defined for them.</p>
<p>For example, I can divide one number by another or make a string uppercase.</p>
<p>It wouldn’t make sense to divide one string by another or make a number uppercase.</p>
<p>When certain functionality is closely tied to the type of an object, it is often implemented as a special kind of function known as a <strong>method</strong>.</p>
<p>For now, you only need to know two things about methods:</p>
<ol type="1">
<li>We call them by doing <code>variable.method_name(other_arguments)</code> instead of <code>function_name(variable, other_arguments)</code>.<br>
</li>
<li>A method is a function, even though we call it using a different notation.</li>
</ol>
<p>When we introduced the core data types, we saw many methods defined on these types.</p>
<p>Let’s revisit them for the <code>str</code>, or string type.</p>
<p>Notice that we call each of these functions using the <code>dot</code> syntax described above.</p>
<div id="e2f284e4" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">"This is my handy string!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="96ee2e0b" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>s.upper()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="22489220" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>s.title()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="more-on-scope-optional" class="level2">
<h2 class="anchored" data-anchor-id="more-on-scope-optional">More on Scope (Optional)</h2>
<p>Keep in mind that with mathematical functions, the arguments are just dummy names that can be interchanged.</p>
<p>That is, the following are identical.</p>
<p><span class="math display">\[
\begin{eqnarray}
    f(K, L) &amp;= z\, K^{\alpha} L^{1-\alpha}\\
    f(K_2, L_2) &amp;= z\, K_2^{\alpha} L_2^{1-\alpha}
\end{eqnarray}
\]</span></p>
<p>The same concept applies to Python functions, where the arguments are just placeholder names, and our <code>cobb_douglas</code> function is identical to</p>
<div id="8c6d057c" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cobb_douglas2(K2, L2): <span class="co"># changed dummy variable names</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create alpha and z</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    alpha <span class="op">=</span> <span class="fl">0.33</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> z <span class="op">*</span> K2<span class="op">**</span>alpha <span class="op">*</span> L2<span class="op">**</span>(<span class="dv">1</span> <span class="op">-</span> alpha)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>cobb_douglas2(<span class="fl">1.0</span>, <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is an appealing feature of functions for avoiding coding errors: names of variables within the function are localized and won’t clash with those on the outside (with more examples in <a href="#scope">scope</a>).</p>
<p>Importantly, when Python looks for variables matching a particular name, it begins in the most local scope.</p>
<p>That is, note that having an <code>alpha</code> in the outer scope does not impact the local one.</p>
<div id="41e08a6b" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cobb_douglas3(K, L, alpha): <span class="co"># added new argument</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create alpha and z</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> z <span class="op">*</span> K<span class="op">**</span>alpha <span class="op">*</span> L<span class="op">**</span>(<span class="dv">1</span> <span class="op">-</span> alpha) <span class="co"># sees local argument alpha</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cobb_douglas3(<span class="fl">1.0</span>, <span class="fl">0.5</span>, <span class="fl">0.2</span>))</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Setting alpha, does the result change?"</span>)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>alpha <span class="op">=</span> <span class="fl">0.5</span> <span class="co"># in the outer scope</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cobb_douglas3(<span class="fl">1.0</span>, <span class="fl">0.5</span>, <span class="fl">0.2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A crucial element of the above function is that the <code>alpha</code> variable was available in the local scope of the function.</p>
<p>Consider the alternative where it is not. We have removed the <code>alpha</code> function parameter as well as the local definition of <code>alpha</code>.</p>
<div id="5497258a" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cobb_douglas4(K, L): <span class="co"># added new argument</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create alpha and z</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># there are no local alpha in scope!</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> z <span class="op">*</span> K<span class="op">**</span>alpha <span class="op">*</span> L<span class="op">**</span>(<span class="dv">1</span> <span class="op">-</span> alpha)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>alpha <span class="op">=</span> <span class="fl">0.2</span> <span class="co"># in the outer scope</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"alpha = </span><span class="sc">{</span>alpha<span class="sc">}</span><span class="ss"> gives </span><span class="sc">{</span>cobb_douglas4(<span class="fl">1.0</span>, <span class="fl">0.5</span>)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>alpha <span class="op">=</span> <span class="fl">0.3</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"alpha = </span><span class="sc">{</span>alpha<span class="sc">}</span><span class="ss"> gives </span><span class="sc">{</span>cobb_douglas4(<span class="fl">1.0</span>, <span class="fl">0.5</span>)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The intuition of scoping does not apply only for the “global” vs.&nbsp;“function” naming of variables, but also for nesting.</p>
<p>For example, we can define a version of <code>cobb_douglas</code> which is also missing a <code>z</code> in its inner-most scope, then put the function inside of another function.</p>
<div id="dcf07524" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> output_given_alpha(alpha):</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Scoping logic:</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. local function name doesn't clash with global one</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. alpha comes from the function parameter</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. z comes from the outer global scope</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> cobb_douglas(K, L):</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> z <span class="op">*</span> K<span class="op">**</span>alpha <span class="op">*</span> L<span class="op">**</span>(<span class="dv">1</span> <span class="op">-</span> alpha)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># using this function</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cobb_douglas(<span class="fl">1.0</span>, <span class="fl">0.5</span>)</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>alpha <span class="op">=</span> <span class="dv">100</span> <span class="co"># ignored</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>alphas <span class="op">=</span> [<span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>]</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="co"># comprehension variables also have local scope</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="co"># and don't clash with the alpha = 100</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>[output_given_alpha(alpha) <span class="cf">for</span> alpha <span class="kw">in</span> alphas]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a id="ex2-4"></a></p>
</section>
<section id="exercises" class="level2">
<h2 class="anchored" data-anchor-id="exercises">Exercises</h2>
<section id="exercise-1-1" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1-1">Exercise 1</h3>
<p>What happens if we try different inputs in our Cobb-Douglas production function?</p>
<div id="86037ab3" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute returns to scale with different values of `K` and `L` and `gamma`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(<a href="#dir2-4-1">back to text</a>)</p>
</section>
<section id="exercise-2-1" class="level3">
<h3 class="anchored" data-anchor-id="exercise-2-1">Exercise 2</h3>
<p>Define a function named <code>var</code> that takes a list (call it <code>x</code>) and computes the variance. This function should use the mean function that we defined earlier.</p>
<p>$ = _i (x_i - (x))^2 $</p>
<div id="a7e340df" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(<a href="#dir2-4-2">back to text</a>)</p>
</section>
<section id="exercise-3-1" class="level3">
<h3 class="anchored" data-anchor-id="exercise-3-1">Exercise 3</h3>
<p>Redefine the <code>returns_to_scale</code> function and add a docstring.</p>
<p>Confirm that it works by running the cell containing <code>returns_to_scale?</code> below.</p>
<p><em>Note</em>: You do not need to change the actual code in the function — just copy/paste and add a docstring in the correct line.</p>
<div id="d9e2b5a8" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># re-define the `returns_to_scale` function here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="16867da2" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test it here</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>returns_to_scale?</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(<a href="#dir2-4-3">back to text</a>)</p>
</section>
<section id="exercise-4" class="level3">
<h3 class="anchored" data-anchor-id="exercise-4">Exercise 4</h3>
<p>Experiment with the <code>sep</code> and <code>end</code> arguments to the <code>print</code> function.</p>
<p>These can <em>only</em> be set by name.</p>
<div id="5d6da0c7" class="cell" data-hide-output="false">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(<a href="#dir2-4-4">back to text</a>)</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/albop\.github\.io\/dbe\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>